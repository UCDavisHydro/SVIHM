% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/writeSWBMInputs.R
\name{create_SWBM_MFR_df}
\alias{create_SWBM_MFR_df}
\title{Create a Monthly Mountain Front Recharge (MFR) Data Frame}
\usage{
create_SWBM_MFR_df(
  num_days_df,
  use_PRMS = FALSE,
  input_dir = NULL,
  input_file = "monthly_MFR_by_catchment.txt",
  catchment_ids = c("5", "6", "7", "8", "9", "10", "11"),
  catchment_daily_rates = c(234, 6300, 12040, 22350, 2000, 3860, 2430),
  no_mfr_months = 6:9
)
}
\arguments{
\item{num_days_df}{A \code{data.frame} with at least two columns:
\itemize{
\item \code{ndays}: number of days in each stress period (month).
\item \code{stress_period}: integer stress period index for each row.
}}

\item{use_PRMS}{Logical; if \code{TRUE}, read a pre-written PRMS file rather than computing from \code{num_days_df}.}

\item{input_dir}{Character. Directory containing the PRMS file. Required if \code{use_PRMS = TRUE}.}

\item{input_file}{Character. Filename of the PRMS output table (default \code{"monthly_MFR_by_catchment.txt"}).
Must include a \code{Date} column.}

\item{catchment_ids}{Character vector of catchment identifiers (must match those in
\code{"modflow_cell_to_catchment.txt"}). Defaults to
\code{c("5","6","7","8","9","10","11")}.}

\item{catchment_daily_rates}{Numeric vector of the corresponding daily recharge rates
(in cubic meters per day) for each catchment in \code{catchment_ids}.
Must be the same length as \code{catchment_ids}.}

\item{no_mfr_months}{Integer vector of month numbers (1-12) for which to force recharge to zero.
Default \code{6:9} (June through September).}
}
\value{
A \code{data.frame} with columns:
\itemize{
\item \code{Stress_Period}: Date of the first day of each stress period (month).
\item one column per catchment in \code{catchment_ids}, giving that month's
total recharge (computed or PRMS), with zeros in \code{no_mfr_months}.
}
}
\description{
Generates a data.frame of monthly mountain front recharge (MFR) estimates at the catchment scale.
By default, it computes each catchment's monthly total as \code{ndays * daily_rate},
converts stress-period numbers to dates via \code{mftime2date()}, and then zeros out
any specified "no-MFR" months (e.g. summer months with no recharge).
Alternatively, you can read pre-computed PRMS output instead.
}
\details{
If \code{use_PRMS = TRUE}, the function stops with an error unless \code{input_dir} is supplied,
reads \code{input_file}, and returns its contents (with \code{Date} as \code{Stress_Period}).
Otherwise it:
\enumerate{
\item Multiplies \code{num_days_df\$ndays} by each \code{catchment_daily_rates}.
\item Converts \code{num_days_df\$stress_period} to \code{Date} via
\code{mftime2date(origin = '1990-09-30')}.
\item Sets all catchment columns to zero for any month in \code{no_mfr_months}.
}
}
\examples{
# Compute MFR and zero out summer (Jun-Sep):
num_days_df <- data.frame(
  stress_period = 1:12,
  ndays         = c(31,28,31,30,31,30,31,31,30,31,30,31)
)
create_SWBM_MFR_df(
  num_days_df,
  no_mfr_months = 6:9
)

# Read PRMS output instead:
create_SWBM_MFR_df(
  num_days_df,
  use_PRMS    = TRUE,
  input_dir   = "/path/to/prms",
  input_file  = "monthly_MFR_by_catchment.txt"
)
}
\author{
Leland Scantlebury
}
