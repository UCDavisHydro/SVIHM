% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plotting.R
\name{plot_field_category}
\alias{plot_field_category}
\title{Plot a Categorical Field Attribute on a Map}
\usage{
plot_field_category(
  data_df,
  lookup_df,
  stress_period,
  field_shp_file = file.path(data_dir["ref_data_dir", "loc"], "Landuse_20190219.shp"),
  prefix = "ID_",
  id_col = "id",
  name_col = "name",
  colors = NULL,
  origin_date = as.Date("1990-09-30"),
  plot_title = NA,
  legend_title = "Category"
)
}
\arguments{
\item{data_df}{A data.frame with a \code{Stress_Period} Date column and one \code{<prefix><fieldID>}
column per field, containing integer codes or names.}

\item{lookup_df}{A data.frame with two columns: \code{id} (matching codes in \code{data_df})
and \code{name} (the category label to plot).}

\item{stress_period}{Integer, Date, or character. Which period to plot, as in \code{plot_field_continuous()}.}

\item{field_shp_file}{Character. Path to the SWBM field shapefile. Defaults to
\code{file.path(data_dir["ref_data_dir","loc"], "Landuse_20190219.shp")}.}

\item{prefix}{Character. Column-name prefix in \code{data_df} (default \code{"ID_"}).}

\item{id_col}{Character. Name of the code column in \code{lookup_df} (default \code{"id"}).}

\item{name_col}{Character. Name of the label column in \code{lookup_df} (default \code{"name"}).}

\item{colors}{Named character vector of hex colors, names = category labels.
If \code{NULL}, a default viridis palette is generated.}

\item{origin_date}{Date. Reference date for numeric stress periods (default \code{as.Date("1990-09-30")}).}

\item{plot_title}{Character. Plot title (default NA)}

\item{legend_title}{Character. Legend title (default \code{"Category"}).}
}
\value{
A \code{ggplot} object with \code{geom_sf(aes(fill = category))}.
}
\description{
Reads a field-polygon shapefile, merges in a single-period categorical attribute
(e.g. landcover type) from a wide data.frame via a lookup table, and plots it
with a discrete color scale. If no colors are provided, a default palette
from \code{viridisLite::viridis()} is used.
}
\examples{
\dontrun{
# landcover_df from create_SWBM_landcover_df(), and landcover_desc with id/name columns
p <- plot_field_category(
  data_df      = landcover_df,
  lookup_df    = landcover_desc,
  stress_period= "2021-06-01",
  colors       = NULL,
  legend_title = "Landcover"
)
print(p)
}
}
